<head>
<link rel="stylesheet" href="style.css">

<script src="https://code.jquery.com/jquery-2.1.4.min.js" ></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script>
<script src="bower_components/angular-chart.js/dist/angular-chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-scroll/0.7.4/angular-scroll.js"></script>
<script src="app/app.js"></script>
<script src="app/mainControl.js"></script>
<script src="app/navControl.js"></script>
<script src="app/jqueryScroll.js"></script>



<link rel="stylesheet" href="bower_components/angular-chart.js/dist/angular-chart.css">

</head>

<body >
  <div class="site" ng-app="liveInfoGraphic">
  <!-- <div class="nav" ng-controller='navCtrl' >
    <h1 class = "navtitle">The Counted API</h1>
    <div class = "navlist" >
      <li><a href="#about">About The Counted API</a></li>
      <li><a href="#docs">Documentation</a></li>
      <li><a href="#live">Live Infographic</a></li>

    </div>
  </div> -->
<div class="text">
  <div class='welcome'>
    <h1 class="b">The Counted</h1>
    <h1 class="r">API</h1>

    <p>Welcome to The Counted API. This site provides a REST API for
       <a href ='http://www.theguardian.com/us-news/ng-interactive/2015/jun/01
       /the-counted-police-killings-us-database'>The Guardian's The Counted database</a>.</p>
  </div>
  <div class="about" id='about'>
    <h3>About The Counted API</h3>
    <p>The Counted API is an API, or Application Programming Interface, for
      officer involved killings in the United States of America. The data is
      sourced from The Guardian's The Counted database. In plain english -- the
      Guardian keeps a spreadsheet of information about citizens killed by police
      in the United States. This website is a tool to let you access that information
      so that you can see it, make cool things with it, and share it.
    </p>
  </div>
  <div class="howToUse" id='docs' >
    <h3>Documentation</h3>
    <p>
      There is just a single URL for this API. It returns a JSON. That URL is
      /api/counted. Making a get request to /api/counted will return the full set of
      officer involved killings this year. You can pass in arbitrary search key
      value pairs with this format -- /api/counted?key=value&key&value. You will
      receive an array of all objects that match your search. All of the objects
      will have the following list of properties: Name, Address, Age, Armed, Cause,
      City, State, Day, Month, Year, Race, and Sex.
    </p>
  </div>
  <div class="example" ng-controller='liveInfoGraphicCtrl' id='live'>
    <h3>Live Infographic</h3>
    <h2> Total: <z>{{counted.length}}<z></h2>
    <h1>When do the shootings occur?</h1>
    <canvas id="line2" class="chart chart-bar"
                    chart-data="monthData"
                    chart-labels='monthLabels'
                    chart-series='[2015]'
                    chart-legend="true"
                    chart-click="">
    </canvas>

    <div ng-repeat="(key, value) in insideOut">
      <div ng-if="key == 'race' || key =='sex' || key =='armed' || key =='cause'" class = "dataTable" >
        <b>{{key | uppercase}}</b>
      <div ng-repeat="(label, count) in value">
        <td> {{label}} : </td> <td> {{ count }} </td>
      </div>
      <br ng-if({{index}}%4==0)>
    </div>
    </div>
    <h1>Which states kill the most?</h1>
    <canvas id="line2" class="chart chart-bar"
                    chart-data="stateData"
                    chart-labels='stateLabels'
                    >
    </canvas>
    <h2> The youngest person killed by police this year was <z>{{ageLabels.sort()[0]}}</z> years old</h2>
    <h2> The oldest person killed by police this year was <z>{{oldest}}</z> years old</h2>
    <h1>Race breakdown</h1>
    <canvas id="line2" class="chart chart-pie"
                    chart-data="raceData"
                    chart-labels='raceLabels'
                    chart-legend="true"
                    chart-click="">
    </canvas>

  </div>

</div>
</div>

</body>
